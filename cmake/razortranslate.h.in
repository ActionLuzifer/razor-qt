#include <QtCore/QLocale>
#include <QtCore/QTranslator>

class RazorTranslator {
public:
    static void translate()
    {
        QString locale = QLocale::system().name();

        QTranslator *qtTranslator = new QTranslator(qApp);
        qtTranslator->load("qt_" + locale, QLibraryInfo::location(QLibraryInfo::TranslationsPath));
        qApp->installTranslator(qtTranslator);

        QTranslator *appTranslator = new QTranslator(qApp);
        appTranslator->load(QString("${TRANSLATIONS_DIR}/${PROJECT_NAME}_%1.qm").arg(locale));
        qApp->installTranslator(appTranslator);
    }
};

#define TRANSLATE_APP  RazorTranslator::translate();
